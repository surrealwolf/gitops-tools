# Kube State Metrics Helm Chart Configuration - Base
#
# Deploys kube-state-metrics to expose cluster state as metrics
# Official repository: https://prometheus-community.github.io/helm-charts
# Chart: https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-state-metrics
#
apiVersion: helm.cattle.io/v1
kind: HelmChart
metadata:
  name: prometheus-kube-state-metrics
  namespace: managed-syslog
spec:
  chart: kube-state-metrics
  repo: https://prometheus-community.github.io/helm-charts
  targetNamespace: managed-syslog
  valuesContent: |-
    # Kube State Metrics Configuration - Base
    
    # Resources
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi
    
    # Service
    service:
      port: 8080
      targetPort: 8080
    
    # Image configuration
    image:
      registry: harbor.dataknife.net
      repository: dockerhub/registry.k8s.io/kube-state-metrics/kube-state-metrics
      tag: "v2.10.1"  # Latest stable version