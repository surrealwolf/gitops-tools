# Fleet configuration for nprd-apps cluster
# This file configures how Fleet deploys Promtail to the nprd-apps cluster
#
# Fleet will use this configuration when the GitRepo monitors:
# - The root directory (creates bundles for each directory)
# - Or specifically the observability-agents/promtail/overlays/nprd-apps path
#
# If your GitRepo monitors observability-agents/promtail/base, it won't see this overlay.
# In that case, either:
# 1. Change GitRepo to monitor observability-agents/promtail/overlays/nprd-apps
# 2. Or change GitRepo to monitor root and use fleet.yaml for targeting

defaultNamespace: grafana

# Target this bundle to the nprd-apps cluster
targetCustomizations:
  - name: nprd-apps
    clusterSelector:
      matchLabels:
        # Cluster label that Fleet uses for matching
        management.cattle.io/cluster-display-name: nprd-apps