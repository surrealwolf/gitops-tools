# Fleet configuration for poc-apps
# This file configures how Fleet deploys Promtail to poc-apps
#
# Fleet will use this configuration when the GitRepo monitors:
# - The root directory (creates bundles for each directory)
# - Or specifically the observability-agents/promtail/overlays/poc-apps path
#
# If your GitRepo monitors observability-agents/promtail/base, it won't see this overlay.
# In that case, either:
# 1. Change GitRepo to monitor observability-agents/promtail/overlays/poc-apps
# 2. Or change GitRepo to monitor root and use fleet.yaml for targeting

defaultNamespace: managed-syslog

# Target this bundle to poc-apps
targetCustomizations:
  - name: poc-apps
    clusterSelector:
      matchLabels:
        # Cluster label that Fleet uses for matching
        management.cattle.io/cluster-display-name: poc-apps