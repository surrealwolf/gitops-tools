apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: managed-tools

resources:
  # Wazuh Indexer components
  - wazuh-indexer-configmap.yaml
  - wazuh-indexer-secret.yaml
  - wazuh-indexer-statefulset.yaml
  - wazuh-indexer-service.yaml
  
  # Wazuh Server (Manager) components
  # - wazuh-server-configmap.yaml  # Temporarily disabled - incomplete config causing XML errors
  - wazuh-server-secret.yaml
  - wazuh-server-filebeat-configmap.yaml
  - wazuh-server-statefulset.yaml
  - wazuh-server-service.yaml
  # Optional: UniFi decoders and rules (uncomment to enable)
  # - wazuh-unifi-decoder-configmap.yaml
  
  # Wazuh Dashboard components
  - wazuh-dashboard-configmap.yaml
  - wazuh-dashboard-wazuh-configmap.yaml
  - wazuh-dashboard-secret.yaml
  - wazuh-dashboard-deployment.yaml
  - wazuh-dashboard-service.yaml
  - wazuh-dashboard-ingress.yaml

commonLabels:
  app: wazuh
  managed-by: gitops
