# Wazuh Dashboard Deployment
#
# This is a placeholder. Replace with actual Wazuh Dashboard Deployment
# from the official wazuh-kubernetes repository.
#
# Key requirements:
# - Stateless deployment (no persistent storage needed)
# - Mount TLS certificates from secret
# - Set appropriate resource limits
# - Connect to wazuh-indexer service
#
apiVersion: apps/v1
kind: Deployment
metadata:
  name: wazuh-dashboard
  namespace: managed-tools
  labels:
    app: wazuh
    component: dashboard
    managed-by: gitops
spec:
  replicas: 1
  selector:
    matchLabels:
      app: wazuh
      component: dashboard
  template:
    metadata:
      labels:
        app: wazuh
        component: dashboard
        managed-by: gitops
    spec:
      containers:
      - name: wazuh-dashboard
        image: wazuh/wazuh-dashboard:4.12.0
        # Using 4.12.0 due to x86-64-v2 CPU requirement in newer versions
        # Cluster nodes don't support x86-64-v2, causing "Fatal glibc error"
        # Note: May need to try even older versions (4.11.x, 4.10.x) if 4.12.0 still fails
        ports:
        - containerPort: 5601
          name: http
        # Add configuration, volumes, resources, etc.
        # Refer to official Wazuh Kubernetes manifests
        # Must connect to wazuh-indexer service
