# Fleet configuration for nprd-apps cluster
# This file configures how Fleet deploys GitLab Runner to the nprd-apps cluster
#
# Fleet will use this configuration when the GitRepo monitors:
# - The root directory (creates bundles for each directory)
# - Or specifically the gitlab-runner/overlays/nprd-apps path
#
# If your GitRepo monitors gitlab-runner/base, it won't see this overlay.
# In that case, either:
# 1. Change GitRepo to monitor gitlab-runner/overlays/nprd-apps
# 2. Or change GitRepo to monitor root and use fleet.yaml for targeting

defaultNamespace: managed-cicd

# Target this bundle to the nprd-apps cluster
targetCustomizations:
  - name: nprd-apps
    clusterSelector:
      matchLabels:
        # Target nprd-apps cluster by display name
        management.cattle.io/cluster-display-name: nprd-apps
